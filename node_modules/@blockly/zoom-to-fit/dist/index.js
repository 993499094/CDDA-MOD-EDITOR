/*! For license information please see index.js.LICENSE.txt */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("blockly/core"));else if("function"==typeof define&&define.amd)define(["blockly/core"],e);else{var o="object"==typeof exports?e(require("blockly/core")):e(t.Blockly);for(var i in o)("object"==typeof exports?exports:t)[i]=o[i]}}(this,(t=>(()=>{"use strict";var e={573:e=>{e.exports=t}},o={};function i(t){var s=o[t];if(void 0!==s)return s.exports;var r=o[t]={exports:{}};return e[t](r,r.exports,i),r.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var s={};return(()=>{i.r(s),i.d(s,{ZoomToFitControl:()=>r});var t=i(573),e=i.n(t);function o(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.workspace_=e,this.id="zoomToFit",this.svgGroup_=null,this.left_=0,this.top_=0,this.WIDTH_=32,this.HEIGHT_=32,this.MARGIN_VERTICAL_=20,this.MARGIN_HORIZONTAL_=20,this.initialized_=!1}var i,s;return i=t,(s=[{key:"init",value:function(){this.workspace_.getComponentManager().addComponent({component:this,weight:2,capabilities:[e().ComponentManager.Capability.POSITIONABLE]}),this.createDom_(),this.initialized_=!0,this.workspace_.resize()}},{key:"dispose",value:function(){this.svgGroup_&&e().utils.dom.removeNode(this.svgGroup_),this.onZoomToFitWrapper_&&(e().browserEvents.unbind(this.onZoomToFitWrapper_),this.onZoomToFitWrapper_=null)}},{key:"createDom_",value:function(){this.svgGroup_=e().utils.dom.createSvgElement(e().utils.Svg.IMAGE,{height:this.HEIGHT_+"px",width:this.WIDTH_+"px",class:"zoomToFit"}),this.svgGroup_.setAttributeNS(e().utils.dom.XLINK_NS,"xlink:href",n),e().utils.dom.insertAfter(this.svgGroup_,this.workspace_.getBubbleCanvas()),this.onZoomToFitWrapper_=e().browserEvents.conditionalBind(this.svgGroup_,"mousedown",null,this.onClick_.bind(this))}},{key:"onClick_",value:function(){this.workspace_.zoomToFit();var t=new(e().Events.get(e().Events.CLICK))(null,this.workspace_.id,"zoom_reset_control");e().Events.fire(t)}},{key:"getBoundingRectangle",value:function(){return new(e().utils.Rect)(this.top_,this.top_+this.HEIGHT_,this.left_,this.left_+this.WIDTH_)}},{key:"position",value:function(t,o){if(this.initialized_){var i=this.workspace_.scrollbar&&this.workspace_.scrollbar.canScrollHorizontally(),s=this.workspace_.scrollbar&&this.workspace_.scrollbar.canScrollVertically();t.toolboxMetrics.position===e().TOOLBOX_AT_LEFT||this.workspace_.horizontalLayout&&!this.workspace_.RTL?(this.left_=t.absoluteMetrics.left+t.viewMetrics.width-this.WIDTH_-this.MARGIN_HORIZONTAL_,i&&!this.workspace_.RTL&&(this.left_-=e().Scrollbar.scrollbarThickness)):(this.left_=this.MARGIN_HORIZONTAL_,i&&this.workspace_.RTL&&(this.left_+=e().Scrollbar.scrollbarThickness));var r=t.toolboxMetrics.position!==e().TOOLBOX_AT_BOTTOM;r?(this.top_=t.absoluteMetrics.top+t.viewMetrics.height-this.HEIGHT_-this.MARGIN_VERTICAL_,s&&(this.top_-=e().Scrollbar.scrollbarThickness)):this.top_=t.absoluteMetrics.top+this.MARGIN_VERTICAL_;for(var n,l=this.getBoundingRectangle(),a=0;n=o[a];a++)l.intersects(n)&&(this.top_=r?n.top-this.HEIGHT_-this.MARGIN_VERTICAL_:n.bottom+this.MARGIN_VERTICAL_,l=this.getBoundingRectangle(),a=-1);this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}}}])&&o(i.prototype,s),Object.defineProperty(i,"prototype",{writable:!1}),t}(),n="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0iIzU0NkU3QSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMCAwaDI0djI0SDBWMHoiIGZpbGw9Im5vbmUiLz4KICA8cGF0aCBkPSJNNSA2LjQyTDguMDkgOS41IDkuNSA4LjA5IDYuNDEgNUg5VjNIM3Y2aDJ6bTEwLTMuNDF2MmgyLjU3TDE0LjUgOC4wOWwxLjQxIDEuNDFMMTkgNi40MVY5aDJWMy4wMXptNCAxNC41N2wtMy4wOS0zLjA4LTEuNDEgMS40MUwxNy41OSAxOUgxNXYyaDZ2LTZoLTJ6TTguMDkgMTQuNUw1IDE3LjU5VjE1SDN2Nmg2di0ySDYuNDJsMy4wOC0zLjA5eiIgc3R5bGU9InBhaW50LW9yZGVyOiBmaWxsOyBmaWxsOiByZ2IoMTM2LCAxMzYsIDEzNik7Ii8+Cjwvc3ZnPg==";e().Css.register("\n.zoomToFit {\n  opacity: 0.4;\n}\n.zoomToFit:hover {\n  opacity: 0.6;\n}\n.zoomToFit:active {\n  opacity: 0.8;\n}\n")})(),s})()));
//# sourceMappingURL=index.js.map